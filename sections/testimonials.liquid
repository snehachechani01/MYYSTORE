{% if section.blocks.size > 0 %}
  <div class="quotes-wrapper swiper-container">
    <div class="quotes-slider swiper-wrapper" id="Quotes-{{ section.id }}" data-count="{{ section.blocks.size }}">
      {% for block in section.blocks %}
        <div class="quotes-slide--{{ block.id }} swiper-slide" {{ block.shopify_attributes }}>
          <div class="testimonial-box">
            {% if block.settings.quote != blank %}
              <div class="testimonial-description">{{ block.settings.quote }}</div>
            {% endif %}
            {% if block.settings.author != blank %}
              <div class="testimonial-author">{{ block.settings.author | escape }}</div>
            {% endif %}
            {% if block.settings.upload_image != blank %}
              <div class="testimonial-image">
                <img src="{{ block.settings.upload_image | img_url: '200x200', scale: 2 }}" alt="">
              </div>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
{% endif %}

{% if section.blocks.size == 0 %}
  {% include 'no-blocks' %}
{% endif %}

<script src="//cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css">

<script>
  const quotesSwiper = new Swiper('.quotes-slider', {
    loop: true,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  });
</script>

{% stylesheet %}
  .quotes-wrapper {
    position: relative;
    overflow: hidden;
  }

  .testimonial-box {
    border: 1px solid black;
    padding: 20px;
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    min-height: 200px;
  }

  .testimonial-description {
    flex: 1;
    text-align: center;
    margin-bottom: 10px;
  }

  .testimonial-author {
    flex: 1;
    text-align: center;
    font-weight: bold;
  }

  .testimonial-image {
    flex: 1;
    text-align: center;
  }

  .swiper-button-next:after, .swiper-container-rtl .swiper-button-prev:after,
  .swiper-button-prev:after, .swiper-container-rtl .swiper-button-next:after {
    font-size: 15px;
    color: #000;
  }
{% endstylesheet %}

{% schema %}
{
"name": "Testimonials",
"class": "index-section",
"max_blocks": 9,
"settings": [
{
"type": "text",
"id": "title",
"label": "Heading",
"default": "Testimonials"
}
],
"blocks": [
{
"type": "quote",
"name": "Testimonial",
"settings": [
{
"type": "richtext",
"id": "quote",
"label": "Text",
"default": "<p>Add customer reviews and testimonials to showcase your storeâ€™s happy Customers.</p>"
},
{
"type": "text",
"id": "author",
"label": "Author",
"default": "Author's name"
},
     {
          "type":"image_picker",

          "id":"upload_image",
          "label":"upload a image",

          "info":"image size will be 200x200px "
        }
]
}
],

"presets": [
{
"name": "Testimonials",
"category": "Text",
"blocks": [
{
"type": "quote"
},
{
"type": "quote"
},
{
"type": "quote"
},
  {
  "type": "quote"
  }
]
}
]
}
{% endschema %}
